<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إدارة الصلاحيات</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        crossorigin="anonymous" />

    <link rel="stylesheet" href="../css/shared.css">
    <link rel="stylesheet" href="../css/permissions.css">
</head>

<body>
    <header class="main-header">
        <div class="header-container">
            <div class="system-title">
                <img src="/frontend/images/system-title.png" alt="نظام إدارة الجودة والسلامة">
            </div>
            <div class="hospital-logo">
                <img src="/frontend/images/hospital-logo.png" alt="شعار مستشفى الملك عبد العزيز">
            </div>
        </div>
    </header>
    <div class="header-actions">
        <button class="back-btn" onclick="history.back()">
            <i class="fas fa-arrow-left"></i>
            <span>رجوع</span>
        </button>
        <button class="home-btn" onclick="window.location.href='index.html'">
            <i class="fas fa-home"></i>
            <span>الرئيسية</span>
        </button>
    </div>
    <main>
        <div class="permissions-container">
            <!-- Users Sidebar -->
  <div class="users-sidebar">
        <div class="search-bar">
          <input type="text" id="user-search" placeholder="بحث عن مستخدم" />
          <i class="fas fa-search search-icon"></i>
        </div>
        <button class="add-user-btn" id="add-user-btn"><i class="fas fa-user-plus"></i><span>إضافة مستخدم جديد</span></button>
        <div class="user-list" id="user-list">
          <!-- سيتم تحميل المستخدمين هنا ديناميكياً -->
        </div>
      </div>

            <!-- Permissions Content -->
           <div class="permissions-content">
<!-- قبل اختيار المستخدم -->
<div class="user-profile-header">
  <div class="action-buttons-top">
    <button class="btn-delete" id="btn-delete-user">
      <i class="fas fa-trash-alt"></i> حذف
    </button>
    <button class="btn-primary" id="btn-reset-password">
      <i class="fas fa-key"></i> إعادة تعيين كلمة المرور
    </button>
    <button class="btn-primary" id="btn-change-role">
      <i class="fas fa-users-cog"></i> تغيير الدور
    </button>
  </div>

  <div class="profile-extra" id="profile-extra">
    <h2 id="profile-name"></h2>
    <span id="profile-status" class="status"></span>
    <span class="badge-pill dept-badge" id="profile-department"></span>
    <span class="badge-pill role-badge" id="profile-role"></span>
  </div>
</div>


                <h3>صلاحيات الوصول</h3>

<div class="permission-section">
  <!-- الأقسام -->
     <!-- مجموعة جديدة: أجهزة التحكم العامة -->
  <div class="permission-group">
    <h4 class="group-title">عامّ</h4>

    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">منح الصلاحيات</div>
        </div>
      </div>
      <label class="switch" data-key="grant_permissions">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>

    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">عرض السجلات</div>
        </div>
      </div>
      <label class="switch" data-key="view_logs">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>

    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">عرض لوحة التحكم</div>
        </div>
      </div>
      <label class="switch" data-key="view_dashboard">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
  </div>

  <div class="permission-group">
    <h4 class="group-title">الأقسام</h4>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">إضافة قسم</div>
        </div>
      </div>
      <label class="switch"data-key="add_section">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تعديل قسم</div>
        </div>
      </div>
      <label class="switch"data-key="edit_section">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">حذف قسم</div>
        </div>
      </div>
      <label class="switch" data-key="delete_section">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
  </div>

  <!-- المحتوى -->
  <div class="permission-group">
    <h4 class="group-title">المجلد</h4>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">إضافة مجلد</div>
        </div>
      </div>
      <label class="switch"data-key="add_folder">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تعديل مجلد</div>
        </div>
      </div>
      <label class="switch" data-key="edit_folder">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">حذف مجلد</div>
        </div>
      </div>
      <label class="switch" data-key="delete_folder">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
  </div>
  <div class="permission-group">
    <h4 class="group-title">المحتوى</h4>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">إضافة محتوى</div>
        </div>
      </div>
      <label class="switch"data-key="add_content">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تعديل محتوى</div>
        </div>
      </div>
      <label class="switch" data-key="edit_content">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">حذف محتوى</div>
        </div>
      </div>
      <label class="switch" data-key="delete_content">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
  </div>

  <!-- التذاكر -->
  <div class="permission-group">
    <h4 class="group-title">التذاكر</h4>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">عرض كل التذاكر</div>
        </div>
      </div>
      <label class="switch" data-key="view_tickets">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تحويل تذاكر</div>
        </div>
      </div>
      <label class="switch" data-key="transfer_tickets" >
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تتبع التذاكر</div>
        </div>
      </div>
      <label class="switch" data-key="track_tickets">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">حذف التذاكر</div>
        </div>
      </div>
      <label class="switch" data-key="delete_ticket">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تعديل التذاكر</div>
        </div>
      </div>
      <label class="switch" data-key="edit_ticket">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
  </div>

  <!-- الاعتمادات -->
  <div class="permission-group">
    <h4 class="group-title">الاعتمادات</h4>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">عرض كل الاعتمادات</div>
        </div>
      </div>
      <label class="switch" data-key="view_credits" >
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تحويل اعتمادات</div>
        </div>
      </div>
      <label class="switch" data-key="transfer_credits">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تتبع اعتمادات</div>
        </div>
      </div>
      <label class="switch" data-key="track_credits">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
  </div>

  <!-- التوقيع -->
  <div class="permission-group">
    <h4 class="group-title">التوقيع</h4>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">توقيع</div>
        </div>
      </div>
      <label class="switch" data-key="sign">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">توقيع بالنيابة</div>
        </div>
      </div>
      <label class="switch" data-key="sign_on_behalf">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
  </div>

  <!-- الحسابات -->
  <div class="permission-group">
    <h4 class="group-title">الحسابات</h4>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">إضافة مستخدم</div>
        </div>
      </div>
      <label class="switch" data-key="add_user">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تغيير الدور</div>
        </div>
      </div>
      <label class="switch" data-key="change_role">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">حذف حساب</div>
        </div>
      </div>
      <label class="switch" data-key="delete_user">
        <input type="checkbox" >
        <span class="slider round"></span>
      </label>
    </div>
    <div class="permission-item">
      <div class="permission-details">
        <div class="text-content">
          <div class="permission-title">تغيير كلمة السر</div>
        </div>
      </div>
      <label class="switch"data-key="change_password">
        <input type="checkbox">
        <span class="slider round"></span>
      </label>
    </div>
  </div>
</div>



            <div class="bottom-action-buttons">
          <button class="btn-primary" id="btn-export-excel"><i class="fas fa-file-excel"></i> تصدير إلى Excel</button>
          <button class="btn-primary" id="btn-export-pdf"><i class="fas fa-file-pdf"></i> تصدير إلى PDF</button>
        </div>

            </div>
        </div>
    </main>

    <!-- Add User Modal -->
    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">إضافة مستخدم جديد</h2>

            <div class="modal-section">
                <h3>معلومات المستخدم</h3>
                <div class="form-group">
                    <label for="userName">اسم المستخدم</label>
                    <input type="text" id="userName" placeholder="أدخل اسم المستخدم">
                </div>
                <div class="form-group">
                    <label for="jobTitle">المسمى الوظيفي</label>
                    <input type="text" id="jobTitle" placeholder="أدخل المسمى الوظيفي">
                </div>
                <div class="form-group">
                    <label for="department">القسم</label>
                    <select id="department">
                        <option value="">اختر القسم</option>
                        <option value="hr">الموارد البشرية</option>
                        <option value="it">تكنولوجيا المعلومات</option>
                        <option value="finance">المالية</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="email">البريد الإلكتروني</label>
                    <input type="email" id="email" placeholder="أدخل البريد الإلكتروني">
                </div>
                <div class="form-group">
                    <label for="password">كلمة المرور</label>
                    <input type="password" id="password" placeholder="أدخل كلمة المرور">
                </div>
            </div>
    <!-- Permissions section removed as per user request -->

            <div class="modal-actions">
                <button class="btn-secondary" id="cancelAddUser">إلغاء</button>
                <button class="btn-primary" id="saveUser">حفظ المستخدم</button>
            </div>
        </div>
    </div>
<div id="role-popup" class="role-popup">
  <div class="role-content">
    <h4>اختر الدور</h4>
    <select id="role-select" class="role-select"></select>
    <div class="role-buttons">
      <button class="btn-primary" id="btn-save-role">حفظ</button>
      <button class="btn-secondary" id="btn-cancel-role">إلغاء</button>
    </div>
  </div>
</div>
        
    <script src="../js/permissions.js"></script>
</body>

</html>